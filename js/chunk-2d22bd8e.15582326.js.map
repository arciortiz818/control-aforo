{"version":3,"sources":["webpack:///./src/views/StepDate.vue","webpack:///src/views/StepDate.vue","webpack:///./src/views/StepDate.vue?ed8e","webpack:///./src/views/StepDate.vue?ca4f"],"names":["render","_vm","this","_c","_self","attrs","staticStyle","_v","_s","nomUser","staticClass","minDate","dateDisabled","on","onContext","selectDate","model","value","tmpDateSelected","callback","$$v","expression","goStepPersonalInfo","goStepSchedule","staticRenderFns","name","components","data","context","Date","moment","computed","mapState","userData","lastname","mounted","document","$router","replace","dateSelected","methods","mapActions","ctx","setReserveDate","push","$toastr","e","go","ymd","date","weekday","getDay","getDate","activar","idPlaceSelected","format","isFestive","festivesArray","indexOf","component"],"mappings":"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","file":"js/chunk-2d22bd8e.15582326.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',[_c('b-col',[_c('h5',{staticStyle:{\"font-size\":\"1rem\"}},[_vm._v(\" \"+_vm._s(_vm.nomUser)+\", seleccione la fecha que desea agendar: \")])])],1),_c('b-row',{staticClass:\"mb-3 mt-2\"},[_c('b-col',{staticClass:\"text-center\"},[_c('b-calendar',{attrs:{\"block\":\"\",\"locale\":\"es\",\"min\":_vm.minDate,\"start-weekday\":1,\"date-disabled-fn\":_vm.dateDisabled,\"selected-variant\":\"primary\",\"today-variant\":\"primary\",\"small\":\"\",\"id\":\"calendar\",\"dark\":\"true\"},on:{\"context\":_vm.onContext,\"selected\":_vm.selectDate},model:{value:(_vm.tmpDateSelected),callback:function ($$v) {_vm.tmpDateSelected=$$v},expression:\"tmpDateSelected\"}})],1)],1),_c('b-row',[_c('b-col',[_c('b-container',[_c('b-row',[_c('b-col',{staticClass:\"mt-2 text-center\",attrs:{\"col-sm\":\"12\"}},[_c('b-button',{attrs:{\"pressed\":true,\"type\":\"button\",\"variant\":\"primary\"},on:{\"click\":_vm.goStepPersonalInfo}},[_c('b-icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"person-fill\",\"aria-hidden\":\"true\"}}),_c('p',{staticClass:\"m-0\",staticStyle:{\"font-size\":\"0.8rem\"}},[_vm._v(\"Datos Personales\")])],1)],1),_c('b-col',{staticClass:\"mt-2 text-center\",attrs:{\"col-sm\":\"12\"}},[_c('b-button',{attrs:{\"pressed\":true,\"type\":\"button\",\"variant\":\"primary\"},on:{\"click\":_vm.goStepSchedule}},[_c('b-icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"clock-history\",\"aria-hidden\":\"true\"}}),_c('p',{staticClass:\"m-0\",staticStyle:{\"font-size\":\"0.8rem\"}},[_vm._v(\" Seleccionar Horario \")])],1)],1)],1)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <b-container fluid>\r\n      <b-row>\r\n        <b-col>\r\n          <h5 style=\"font-size: 1rem\">\r\n            {{ nomUser }}, seleccione la fecha que desea agendar:\r\n          </h5>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row class=\"mb-3 mt-2\">\r\n        <b-col class=\"text-center\">\r\n          <b-calendar\r\n            block\r\n            v-model=\"tmpDateSelected\"\r\n            @context=\"onContext\"\r\n            locale=\"es\"\r\n            :min=\"minDate\"\r\n            :start-weekday=\"1\"\r\n            @selected=\"selectDate\"\r\n            :date-disabled-fn=\"dateDisabled\"\r\n            selected-variant=\"primary\"\r\n            today-variant=\"primary\"\r\n            small\r\n            id=\"calendar\"\r\n            dark=\"true\"\r\n          ></b-calendar>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col>\r\n          <b-container>\r\n            <b-row>\r\n              <b-col col-sm=\"12\" class=\"mt-2 text-center\">\r\n                <b-button\r\n                  :pressed=\"true\"\r\n                  type=\"button\"\r\n                  variant=\"primary\"\r\n                  @click=\"goStepPersonalInfo\"\r\n                >\r\n                  <!-- <div class=\"h5 mb-2 mt-1\"> -->\r\n                  <b-icon\r\n                    icon=\"person-fill\"\r\n                    aria-hidden=\"true\"\r\n                    class=\"mr-2\"\r\n                  ></b-icon>\r\n                  <!-- </div> -->\r\n                  <p class=\"m-0\" style=\"font-size: 0.8rem\">Datos Personales</p>\r\n                </b-button>\r\n              </b-col>\r\n              <b-col col-sm=\"12\" class=\"mt-2 text-center\">\r\n                <b-button\r\n                  :pressed=\"true\"\r\n                  type=\"button\"\r\n                  variant=\"primary\"\r\n                  @click=\"goStepSchedule\"\r\n                >\r\n                  <!-- <div class=\"h5 mb-2 mt-1\"> -->\r\n                  <b-icon\r\n                    icon=\"clock-history\"\r\n                    aria-hidden=\"true\"\r\n                    class=\"mr-2\"\r\n                  ></b-icon>\r\n                  <!-- </div> -->\r\n                  <p class=\"m-0\" style=\"font-size: 0.8rem\">\r\n                    Seleccionar Horario\r\n                  </p>\r\n                </b-button>\r\n              </b-col>\r\n            </b-row>\r\n          </b-container>\r\n        </b-col>\r\n      </b-row>\r\n    </b-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from \"moment\";\r\nimport { mapActions, mapState } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"StepDate\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      tmpDateSelected: null,\r\n      context: null,\r\n      minDate: new Date(moment()), //new Date(moment().add(1, \"days\")),\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"reserves\", [\"dateSelected\",\"idPlaceSelected\"]),\r\n    ...mapState(\"users\", [\"userData\"]),\r\n    nomUser() {\r\n      return this.userData.name + \" \" + this.userData.lastname;\r\n    },\r\n  },\r\n  mounted() {\r\n    //Verificamos si tenemos datos del usuario, si no se tienen se va al inicio\r\n    if (this.userData.document == \"\") {\r\n      this.$router.replace(\"/\");\r\n    }\r\n\r\n    //Asignamos fecha seleccionada si la hay\r\n    this.tmpDateSelected = this.dateSelected;\r\n  },\r\n  methods: {\r\n    ...mapActions(\"reserves\", [\"setReserveDate\"]),\r\n    onContext(ctx) {\r\n      this.context = ctx;\r\n    },\r\n    goStepSchedule() {\r\n      if (this.tmpDateSelected == \"\") {\r\n        this.$toastr.e(\"Debe seleccionar una fecha.\", \"Fecha de Reserva\");\r\n        return;\r\n      }\r\n\r\n      //Asignamos en memoria la fecha seleccionada\r\n      this.setReserveDate(this.tmpDateSelected);\r\n\r\n      //Vamos al siguiente paso\r\n      this.$router.push(\"StepSchedule\");\r\n    },\r\n    goStepPersonalInfo() {\r\n      //Vamos al paso anterior\r\n      this.$router.go(-1);\r\n    },\r\n    selectDate(ctx) {\r\n      this.tmpDateSelected = ctx;\r\n      this.goStepSchedule();\r\n    },\r\n    dateDisabled(ymd, date) {\r\n      // Disable weekends (Sunday = `0`)\r\n      const weekday = date.getDay();\r\n      const day = date.getDate();  \r\n      let activar = true\r\n\r\n      \r\n\r\n      //para desactivar fechas por sede\r\n      \r\n      // YgvgNadL1LQBshrmf9O4 -> Principal\r\n      if(this.idPlaceSelected == 'YgvgNadL1LQBshrmf9O4' && moment(date).format('YYYY-MM-DD') == '2021-11-16'){\r\n        activar = false;\r\n      }\r\n      if(this.idPlaceSelected == 'YgvgNadL1LQBshrmf9O4' && moment(date).format('YYYY-MM-DD') == '2021-11-17'){\r\n        activar = false;\r\n      }\r\n      if(this.idPlaceSelected == 'YgvgNadL1LQBshrmf9O4' && moment(date).format('YYYY-MM-DD') == '2021-11-18'){\r\n        activar = false;\r\n      }\r\n\r\n      //CfXJMEnvQKB3QHKDXafd -> Barrancabermeja\r\n      if(this.idPlaceSelected == 'CfXJMEnvQKB3QHKDXafd'){\r\n        //Se desactiva el sabado para barranca\r\n        activar = weekday == 6 ? false : true\r\n      }\r\n      \r\n\r\n      return weekday === 0 || this.isFestive(date) || !activar;\r\n    },\r\n    isFestive(date) {\r\n      let festivesArray = [\r\n        \"2022-03-21\",\r\n        \"2022-04-14\",\r\n        \"2022-04-15\",\r\n        \"2022-05-30\",\r\n        \"2022-06-20\",\r\n        \"2022-06-27\",\r\n        \"2022-07-04\",\r\n        \"2022-07-20\",\r\n        \"2022-08-15\",        \r\n        \"2022-10-17\",\r\n        \"2022-11-07\",\r\n        \"2022-11-14\",\r\n        \"2022-12-08\",\r\n        \"2023-01-09\",\r\n        \"2023-03-20\",\r\n        \"2023-04-06\",\r\n        \"2023-04-07\",\r\n        \"2023-05-01\",\r\n        \"2023-05-22\",\r\n        \"2023-06-12\",\r\n        \"2023-06-19\",\r\n        \"2023-07-03\",\r\n        \"2023-07-20\", \r\n        \"2023-08-07\",\r\n        \"2023-08-21\",\r\n        \"2023-10-16\",\r\n        \"2023-11-06\",\r\n        \"2023-11-13\",\r\n        \"2023-12-08\",\r\n        \"2023-12-25\",\r\n      ];\r\n\r\n      return festivesArray.indexOf(moment(date).format(\"YYYY-MM-DD\")) >= 0\r\n        ? true\r\n        : false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\"></style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StepDate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StepDate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StepDate.vue?vue&type=template&id=1e89fee7&\"\nimport script from \"./StepDate.vue?vue&type=script&lang=js&\"\nexport * from \"./StepDate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}