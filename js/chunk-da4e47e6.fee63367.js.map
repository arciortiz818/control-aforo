{"version":3,"sources":["webpack:///./src/views/StepConfirmReserve.vue","webpack:///src/views/StepConfirmReserve.vue","webpack:///./src/views/StepConfirmReserve.vue?233a","webpack:///./src/views/StepConfirmReserve.vue?a691","webpack:///./src/views/StepConfirmReserve.vue?d990"],"names":["render","_vm","this","_c","_self","attrs","staticStyle","_v","on","$event","hideModalConfirmation","ref","scopedSlots","_u","key","fn","proxy","staticClass","_s","confirmDataReserve","placeName","$moment","date","locale","format","schedule","errorReserve","_e","nomUser","placeAdress","dateSelected","scheduleSelected","showPreguntas","isBussy","preguntas","fields","data","value","item","id","marcarrta8","model","rta8","callback","$$v","expression","marcarrta11","rta11","respuesta","marcar","goStepSchedule","goFinish","staticRenderFns","name","components","selected","label","options","text","computed","mapState","userData","lastname","_this$placeSelected","placeSelected","places","filter","el","adress","reservaConfirmada","mounted","document","$router","replace","methods","mapActions","seguir","forEach","$toastr","e","algunSi","$bvModal","show","getAvailabilityReserves","scheduleDisponible","schedules","state","idReserve","addReserve","then","rta","showModal","createUser","showModalNoReserve","catch","updateReserve","updateUser","go","resetReserveData","resetUserData","$refs","hide","component"],"mappings":"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","file":"js/chunk-da4e47e6.fee63367.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('b-modal',{attrs:{\"id\":\"modal-2\",\"title\":\"Información\",\"ok-only\":\"\",\"ok-title\":\"Aceptar\",\"no-close-on-esc\":\"\",\"no-close-on-backdrop\":\"\",\"header-bg-variant\":\"dark\",\"header-text-variant\":\"light\"}},[_c('p',{staticStyle:{\"font-size\":\"1rem\"}},[_vm._v(\" Lo invitamos a que programe la toma de muestras a domicilio a través de Nuestra agente virtual Angela o por nuestra página web \"),_c('a',{attrs:{\"href\":\"https://www.alianzadiagnostica.com/usuarios/toma-de-muestras-a-domicilio\",\"target\":\"blank\"}},[_vm._v(\"https://www.alianzadiagnostica.com\")])])]),_c('b-modal',{attrs:{\"hide-header-close\":\"\",\"id\":\"modal-4\",\"title\":\"Error confirmando reserva\",\"ok-only\":\"\",\"ok-title\":\"Cerrar\",\"no-close-on-esc\":\"\",\"no-close-on-backdrop\":\"\",\"header-bg-variant\":\"dark\",\"header-text-variant\":\"light\"},on:{\"ok\":function($event){return _vm.hideModalConfirmation()}}},[_c('p',{staticStyle:{\"font-size\":\"1rem\"}},[_vm._v(\" Ha ocurrido un error al confirmar la reserva. Por favor ingrese de nuevo los datos o intente más tarde. \")])]),_c('b-modal',{ref:\"modal-confirmation\",attrs:{\"id\":\"modal-3\",\"title\":\"Reserva Exitosa\",\"no-close-on-esc\":\"\",\"no-close-on-backdrop\":\"\",\"header-bg-variant\":\"dark\",\"header-text-variant\":\"light\"},on:{\"close\":function($event){return _vm.hideModalConfirmation()}},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(){return [_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.hideModalConfirmation()}}},[_vm._v(\" Aceptar \")])]},proxy:true}])},[_c('p',{staticClass:\"text-justify\"},[_vm._v(\" Reserva confirmada en la sede \"),_c('b',[_vm._v(_vm._s(_vm.confirmDataReserve.placeName))]),_vm._v(\", para el día \"),_c('b',[_vm._v(_vm._s(this.$moment(_vm.confirmDataReserve.date).locale(\"es-mx\").format(\"LL\")))]),_vm._v(\" en el horario de \"),_c('b',[_vm._v(_vm._s(_vm.confirmDataReserve.schedule))])]),_c('p',{staticClass:\"text-justify\",staticStyle:{\"font-size\":\"1rem\",\"color\":\"red\"}},[_c('b',[_vm._v(\"Le recordamos que deberá asistir a su toma de muestra máximo 10 minutos antes de la hora asignada y el tiempo de atención estimado es de 30 minutos\")])]),_c('p',{staticClass:\"text-justify\",staticStyle:{\"font-size\":\"1rem\"}},[_vm._v(\" Señor usuario, recuerde llegar a la hora de su \"),_c('span',{staticStyle:{\"font-weight\":\"bolder\"}},[_vm._v(\"cita asignada\")]),_vm._v(\", para mantener el distanciamiento social y el cumplimiento de las medidas de la emergencia sanitaria Covid 19. \")]),_c('p',{staticClass:\"text-justify\",staticStyle:{\"font-size\":\"1rem\"}},[_vm._v(\" Recuerde presentar en físico los siguientes documentos: \"),_c('br'),_c('ul',[_c('li',[_vm._v(\"Documento de identidad\")]),_c('li',[_vm._v(\"Orden médica (Si aplica)\")]),_c('li',[_vm._v(\"Autorización médica vigente (Si aplica)\")]),_c('li',[_vm._v(\"Historia Clínica (Si aplica)\")])])]),_c('p',{staticClass:\"text-justify\",staticStyle:{\"font-size\":\"1.1rem\",\"color\":\"red\"}},[_c('b',[_vm._v(\"Importante:\")]),_vm._v(\" Por favor consulte la preparación de sus exámenes de laboratorio clínico en el siguiente enlace \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://www.alianzadiagnostica.com/examenes\"}},[_vm._v(\"https://www.alianzadiagnostica.com/examenes\")])])]),(!_vm.errorReserve)?_c('b-container',[_c('b-row',{staticClass:\"mt-2\"},[_c('b-col',{staticStyle:{\"font-size\":\"1rem\"}},[_c('p',{staticClass:\"text-justify\"},[_vm._v(\" \"+_vm._s(_vm.nomUser)+\", se realizará reserva en la sede \"),_c('b',[_vm._v(_vm._s(_vm.placeAdress))]),_vm._v(\", para el día \"),_c('b',[_vm._v(_vm._s(this.$moment(_vm.dateSelected).locale(\"es-mx\").format(\"LL\")))]),_vm._v(\" en el horario de \"),_c('b',[_vm._v(_vm._s(_vm.scheduleSelected))])]),_c('p',{staticClass:\"text-justify\"},[_c('b',[_vm._v(\"Le recordamos que deberá asistir a su toma de muestra máximo 10 minutos antes de la hora asignada y el tiempo de atención estimado es de 30 minutos\")])]),(_vm.showPreguntas)?_c('p',{staticClass:\"text-justify\"},[_vm._v(\" Para finalizar marque \"),_c('b',[_vm._v(\"Si\")]),_vm._v(\", \"),_c('b',[_vm._v(\"No\")]),_vm._v(\" o llene los valores en las siguientes preguntas y de click en el botón Confirmar \")]):_vm._e()])],1),_c('b-row',[_c('b-col',[(_vm.isBussy)?_c('b-icon',{attrs:{\"icon\":\"arrow-clockwise\",\"animation\":\"spin\",\"font-scale\":\"4\"}}):_vm._e()],1)],1),(_vm.showPreguntas)?_c('b-row',[_c('b-col',[_c('b-table',{attrs:{\"hover\":\"\",\"bordered\":\"\",\"items\":_vm.preguntas,\"small\":\"\",\"table-variant\":\"primary\",\"head-variant\":\"dark\",\"fields\":_vm.fields},scopedSlots:_vm._u([{key:\"cell(text)\",fn:function(data){return [_c('p',{staticClass:\"text-justify\",staticStyle:{\"font-size\":\"1rem\"}},[_vm._v(\" \"+_vm._s(data.value)+\" \")])]}},{key:\"cell(respuesta)\",fn:function(data){return [(data.item.id == '8')?_c('b-container',{staticClass:\"mt-1\"},[_c('b-row',[_c('b-col',[_c('b-form-input',{attrs:{\"placeholder\":\"Enter your name\"},on:{\"blur\":function($event){return _vm.marcarrta8(data.item.id - 1)}},model:{value:(_vm.rta8),callback:function ($$v) {_vm.rta8=$$v},expression:\"rta8\"}})],1)],1)],1):_vm._e(),(data.item.id == '11')?_c('b-container',{staticClass:\"mt-1\"},[_c('b-row',[_c('b-col',[_c('b-form-input',{attrs:{\"placeholder\":\"Enter your name\"},on:{\"blur\":function($event){return _vm.marcarrta11(data.item.id - 1)}},model:{value:(_vm.rta11),callback:function ($$v) {_vm.rta11=$$v},expression:\"rta11\"}})],1)],1)],1):_vm._e(),(data.item.id != 11 && data.item.id != 8)?_c('b-container',[_c('b-row',[_c('b-col',[_c('b-button',{staticClass:\"mt-2\",staticStyle:{\"font-size\":\"0.8rem\"},attrs:{\"variant\":data.item.respuesta == 'Si' ? 'dark' : 'outline-dark',\"block\":\"\"},on:{\"click\":function($event){return _vm.marcar(data.item.id - 1, 'Si')}}},[_vm._v(\"Si\")])],1),_c('b-col',[_c('b-button',{staticClass:\"mt-2\",staticStyle:{\"font-size\":\"0.8rem\"},attrs:{\"variant\":data.item.respuesta == 'No' ? 'dark' : 'outline-dark',\"block\":\"\"},on:{\"click\":function($event){return _vm.marcar(data.item.id - 1, 'No')}}},[_vm._v(\"No\")])],1)],1)],1):_vm._e()]}}],null,false,1329263369)})],1)],1):_vm._e(),_c('b-row',[_c('b-col',[_c('b-button',{staticStyle:{\"font-size\":\"0.8rem\"},attrs:{\"pressed\":true,\"type\":\"button\",\"variant\":\"primary\",\"block\":\"\"},on:{\"click\":_vm.goStepSchedule}},[_c('b-icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"clock-history\",\"aria-hidden\":\"true\"}}),_vm._v(\" Cambiar Horario\")],1)],1),_c('b-col',[_c('b-button',{staticStyle:{\"font-size\":\"0.8rem\"},attrs:{\"pressed\":true,\"type\":\"button\",\"variant\":\"primary\",\"block\":\"\"},on:{\"click\":_vm.goFinish}},[_c('b-icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"check\",\"aria-hidden\":\"true\"}}),_vm._v(\" Confirmar\")],1)],1)],1)],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <b-modal\r\n      id=\"modal-2\"\r\n      title=\"Información\"\r\n      ok-only\r\n      ok-title=\"Aceptar\"\r\n      no-close-on-esc\r\n      no-close-on-backdrop\r\n      header-bg-variant=\"dark\"\r\n      header-text-variant=\"light\"\r\n    >\r\n      <p style=\"font-size: 1rem\">\r\n        Lo invitamos a que programe la toma de muestras a domicilio a través de\r\n        Nuestra agente virtual Angela o por nuestra página web\r\n        <a\r\n          href=\"https://www.alianzadiagnostica.com/usuarios/toma-de-muestras-a-domicilio\"\r\n          target=\"blank\"\r\n          >https://www.alianzadiagnostica.com</a\r\n        >\r\n      </p>\r\n    </b-modal>\r\n    <b-modal\r\n      hide-header-close\r\n      id=\"modal-4\"\r\n      title=\"Error confirmando reserva\"\r\n      ok-only\r\n      ok-title=\"Cerrar\"\r\n      no-close-on-esc\r\n      no-close-on-backdrop\r\n      header-bg-variant=\"dark\"\r\n      header-text-variant=\"light\"\r\n      @ok=\"hideModalConfirmation()\"\r\n    >\r\n      <p style=\"font-size: 1rem\">\r\n        Ha ocurrido un error al confirmar la reserva. Por favor ingrese de nuevo los datos o intente más tarde.\r\n      </p>\r\n    </b-modal>\r\n    <b-modal\r\n      id=\"modal-3\"\r\n      title=\"Reserva Exitosa\"\r\n      no-close-on-esc\r\n      no-close-on-backdrop\r\n      header-bg-variant=\"dark\"\r\n      header-text-variant=\"light\"\r\n      ref=\"modal-confirmation\"\r\n      @close=\"hideModalConfirmation()\"\r\n    >\r\n      <p class=\"text-justify\">\r\n        Reserva confirmada en la sede\r\n        <b>{{ confirmDataReserve.placeName }}</b\r\n        >, para el día\r\n        <b>{{ this.$moment(confirmDataReserve.date).locale(\"es-mx\").format(\"LL\") }}</b>\r\n        en el horario de <b>{{ confirmDataReserve.schedule }}</b>\r\n      </p>\r\n      <p class=\"text-justify\" style=\"font-size: 1rem; color: red;\">\r\n            <b>Le recordamos que deberá asistir a su toma de muestra máximo 10 minutos antes de la hora asignada y el tiempo de atención estimado es de 30 minutos</b>\r\n          </p>\r\n      <p class=\"text-justify\" style=\"font-size: 1rem\">\r\n        Señor usuario, recuerde llegar a la hora de su <span style=\"font-weight: bolder\">cita asignada</span>, para mantener el distanciamiento social y el cumplimiento de las medidas de la emergencia sanitaria Covid 19.\r\n      </p>\r\n      <p class=\"text-justify\" style=\"font-size: 1rem\">\r\n        Recuerde presentar en físico los siguientes documentos:\r\n        <br>\r\n        <ul>\r\n          <li>Documento de identidad</li>\r\n          <li>Orden médica (Si aplica)</li>\r\n          <li>Autorización médica vigente (Si aplica)</li>\r\n          <li>Historia Clínica (Si aplica)</li>\r\n        </ul>\r\n      </p>\r\n      <p class=\"text-justify\" style=\"font-size: 1.1rem; color: red;\">\r\n        <b>Importante:</b> Por favor consulte la preparación de sus exámenes de laboratorio clínico en el siguiente enlace <a target=\"_blank\" href=\"https://www.alianzadiagnostica.com/examenes\">https://www.alianzadiagnostica.com/examenes</a>\r\n      </p>\r\n      <template #modal-footer>\r\n        <!-- Emulate built in modal footer ok and cancel button actions -->\r\n        <b-button variant=\"primary\" @click=\"hideModalConfirmation()\">\r\n          Aceptar\r\n        </b-button>\r\n      </template>\r\n      \r\n    </b-modal>\r\n    <b-container v-if=\"!errorReserve\">\r\n      <b-row class=\"mt-2\">\r\n        <b-col style=\"font-size: 1rem\">\r\n          <p class=\"text-justify\">\r\n            {{ nomUser }}, se realizará reserva en la sede\r\n            <b>{{ placeAdress }}</b\r\n            >, para el día\r\n            <b>{{ this.$moment(dateSelected).locale(\"es-mx\").format(\"LL\") }}</b>\r\n            en el horario de <b>{{ scheduleSelected }}</b>\r\n          </p>\r\n          <p class=\"text-justify\">\r\n            <b>Le recordamos que deberá asistir a su toma de muestra máximo 10 minutos antes de la hora asignada y el tiempo de atención estimado es de 30 minutos</b>\r\n          </p>\r\n          <p class=\"text-justify\" v-if=\"showPreguntas\">\r\n            Para finalizar marque <b>Si</b>, <b>No</b> o llene los valores en\r\n            las siguientes preguntas y de click en el botón Confirmar\r\n          </p>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col>\r\n          <b-icon\r\n          icon=\"arrow-clockwise\"\r\n          animation=\"spin\"\r\n          font-scale=\"4\"\r\n          v-if=\"isBussy\"\r\n        ></b-icon>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row v-if=\"showPreguntas\">\r\n        <b-col>\r\n          <b-table\r\n            hover\r\n            bordered\r\n            :items=\"preguntas\"\r\n            small\r\n            table-variant=\"primary\"\r\n            head-variant=\"dark\"\r\n            :fields=\"fields\"\r\n          >\r\n            <template #cell(text)=\"data\">\r\n              <p class=\"text-justify\" style=\"font-size: 1rem\">\r\n                {{ data.value }}\r\n              </p>\r\n            </template>\r\n            <template #cell(respuesta)=\"data\">\r\n              <b-container v-if=\"data.item.id == '8'\" class=\"mt-1\">\r\n                <b-row>\r\n                  <b-col>\r\n                    <b-form-input\r\n                      v-model=\"rta8\"\r\n                      @blur=\"marcarrta8(data.item.id - 1)\"\r\n                      placeholder=\"Enter your name\"\r\n                    ></b-form-input>\r\n                  </b-col>\r\n                </b-row>\r\n              </b-container>\r\n              <b-container v-if=\"data.item.id == '11'\" class=\"mt-1\">\r\n                <b-row>\r\n                  <b-col>\r\n                    <b-form-input\r\n                      v-model=\"rta11\"\r\n                      @blur=\"marcarrta11(data.item.id - 1)\"\r\n                      placeholder=\"Enter your name\"\r\n                    ></b-form-input>\r\n                  </b-col>\r\n                </b-row>\r\n              </b-container>\r\n              <b-container v-if=\"data.item.id != 11 && data.item.id != 8\">\r\n                <b-row>\r\n                  <b-col>\r\n                    <b-button\r\n                      @click=\"marcar(data.item.id - 1, 'Si')\"\r\n                      :variant=\"\r\n                        data.item.respuesta == 'Si' ? 'dark' : 'outline-dark'\r\n                      \"\r\n                      class=\"mt-2\"\r\n                      block\r\n                      style=\"font-size: 0.8rem\"\r\n                      >Si</b-button\r\n                    >\r\n                  </b-col>\r\n                  <b-col>\r\n                    <b-button\r\n                      @click=\"marcar(data.item.id - 1, 'No')\"\r\n                      :variant=\"\r\n                        data.item.respuesta == 'No' ? 'dark' : 'outline-dark'\r\n                      \"\r\n                      class=\"mt-2\"\r\n                      block\r\n                      style=\"font-size: 0.8rem\"\r\n                      >No</b-button\r\n                    >\r\n                  </b-col>\r\n                </b-row>\r\n              </b-container>\r\n            </template>\r\n          </b-table>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col>\r\n          <b-button\r\n            :pressed=\"true\"\r\n            type=\"button\"\r\n            variant=\"primary\"\r\n            @click=\"goStepSchedule\"\r\n            style=\"font-size: 0.8rem\"\r\n            block\r\n          >\r\n            <b-icon\r\n              icon=\"clock-history\"\r\n              aria-hidden=\"true\"\r\n              class=\"mr-2\"\r\n            ></b-icon>\r\n            Cambiar Horario</b-button\r\n          >\r\n        </b-col>\r\n        <b-col>\r\n          <b-button\r\n            :pressed=\"true\"\r\n            type=\"button\"\r\n            variant=\"primary\"\r\n            @click=\"goFinish\"\r\n            style=\"font-size: 0.8rem\"\r\n            block\r\n          >\r\n            <b-icon icon=\"check\" aria-hidden=\"true\" class=\"mr-2\"></b-icon>\r\n            Confirmar</b-button\r\n          >\r\n        </b-col>\r\n      </b-row>\r\n    </b-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState } from \"vuex\";\r\nexport default {\r\n  name: \"StepConfirmReserve\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      selected: \"\",\r\n      fields: [\r\n        { key: \"text\", label: \"Pregunta\" },\r\n        { key: \"respuesta\", label: \"Respuesta\" },\r\n      ],\r\n      options: [\r\n        { text: \"Si\", value: false },\r\n        { text: \"No\", value: false },\r\n      ],\r\n      rta8: 0,\r\n      rta11: 0,\r\n      isBussy: false,\r\n      showPreguntas: true,\r\n      errorReserve: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"users\", [\"userData\", \"preguntas\"]),\r\n    ...mapState(\"reserves\", [\r\n      \"idReserve\",\r\n      \"dateSelected\",\r\n      \"scheduleSelected\",\r\n      \"schedules\",\r\n      \"placeSelected\",\r\n      \"esFrotisCultivo\",\r\n      \"confirmDataReserve\"\r\n    ]),\r\n    ...mapState(\"places\", [\"places\"]),\r\n    nomUser() {\r\n      return this.userData.name + \" \" + this.userData.lastname;\r\n    },\r\n    placeAdress() {\r\n      return this.placeSelected ?? (\r\n        this.placeSelected +\r\n        \" (\" +\r\n        this.places.filter((el) => el.name == this.placeSelected)[0].adress +\r\n        \")\"\r\n      );\r\n    },\r\n    reservaConfirmada(){\r\n      return this.confirmDataReserve;\r\n    }\r\n  },\r\n  mounted() {\r\n    if (this.userData.document == \"\") {\r\n      this.$router.replace(\"/\");\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(\"users\", [\"resetUserData\", \"createUser\", \"updateUser\"]),\r\n    ...mapActions(\"reserves\", [\r\n      \"addReserve\",\r\n      \"updateReserve\",\r\n      \"resetReserveData\",\r\n      \"getAvailabilityReserves\",\r\n      \"onReserveFail\"\r\n    ]),\r\n    async goFinish() {\r\n      //Recorremos las preguntas y si alguna no se ha contestado no se deja seguir\r\n      let seguir = true;\r\n      this.preguntas.forEach((el) => {\r\n        if (el.respuesta == \"\" && el.id != \"8\") {\r\n          seguir = false;\r\n        }\r\n      });\r\n\r\n      if (!seguir) {\r\n        this.$toastr.e(\r\n          \"Debe completar todas las respuestas\",\r\n          \"Confirmación de Reserva\"\r\n        );\r\n        return;\r\n      }\r\n\r\n      let algunSi = false;\r\n      this.preguntas.forEach((el) => {\r\n        if (el.respuesta == \"Si\" && el.id != \"8\") {\r\n          algunSi = true;\r\n        }\r\n      });\r\n\r\n      if (algunSi) {\r\n        this.$bvModal.show(\"modal-2\");\r\n        return;\r\n      }\r\n\r\n      await this.getAvailabilityReserves();\r\n      let scheduleDisponible = this.schedules.filter((e) => {\r\n        if (e.schedule == this.scheduleSelected) {\r\n          return e;\r\n        }\r\n      });\r\n\r\n      if (scheduleDisponible[0].state <= 0) {\r\n        this.$toastr.e(\r\n          \"Se ha agotado la disponibilidad para la fecha y horario seleccionados. Puede seleccionar otra fecha u horario.\",\r\n          \"Confirmación de Reserva\"\r\n        );\r\n        return;\r\n      }\r\n      //Si se tiene Id de Reserva es porque se está modificando, si  no se agrega una nueva\r\n      this.isBussy = true;\r\n      this.showPreguntas = false;\r\n      if (this.idReserve == \"\") {\r\n        this.addReserve().then(async (rta) => {\r\n          if(rta){\r\n            this.showModal();\r\n            await this.createUser();\r\n          }else{\r\n            this.errorReserve = true\r\n            await this.showModalNoReserve();\r\n            // this.$router.replace(\"/\");\r\n          }\r\n        }).catch(async (e) => {\r\n          this.errorReserve = true\r\n          await this.showModalNoReserve();\r\n          // this.$router.replace(\"/\");\r\n        })\r\n        // if (this.esFrotisCultivo) {\r\n        //   this.addReserve();\r\n        // }\r\n      } else {\r\n        this.updateReserve().then(async () => {\r\n          this.showModal();\r\n          await this.updateUser();    \r\n        }).catch(async (e) => {\r\n          this.errorReserve = true\r\n          await this.showModalNoReserve();\r\n          // this.$router.replace(\"/\");\r\n        })\r\n        //Preguntar si se puede cambiar datos del usuario\r\n      }\r\n    },\r\n    showModal(){\r\n      this.isBussy = false;\r\n      this.$bvModal.show(\"modal-3\");\r\n    },\r\n    showModalNoReserve(){\r\n      this.isBussy = false;\r\n      this.$bvModal.show(\"modal-4\");\r\n    },\r\n    goStepSchedule() {\r\n      //Vamos al paso anterior\r\n      this.$router.go(-1);\r\n    },\r\n    marcar(id, rta) {\r\n      //Marcamos la respuesta a la pregunta\r\n      this.preguntas[id].respuesta = rta;\r\n    },\r\n    marcarrta8(id) {\r\n      //Marcamos la respuesta a la pregunta\r\n      this.preguntas[id].respuesta = this.rta8;\r\n    },\r\n    marcarrta11(id) {\r\n      //Marcamos la respuesta a la pregunta\r\n      this.preguntas[id].respuesta = this.rta11;\r\n    },\r\n    hideModalConfirmation(){\r\n      //Vamos al inicio\r\n      //Limpiamos el store\r\n      this.resetReserveData();\r\n      this.resetUserData();\r\n      this.$refs['modal-confirmation'].hide()\r\n      this.$router.replace(\"/\");\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.fz-12 {\r\n  font-size: 10px;\r\n  font-weight: bolder;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StepConfirmReserve.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StepConfirmReserve.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StepConfirmReserve.vue?vue&type=template&id=606a1bf6&\"\nimport script from \"./StepConfirmReserve.vue?vue&type=script&lang=js&\"\nexport * from \"./StepConfirmReserve.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StepConfirmReserve.vue?vue&type=style&index=0&id=606a1bf6&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StepConfirmReserve.vue?vue&type=style&index=0&id=606a1bf6&prod&lang=scss&\""],"sourceRoot":""}