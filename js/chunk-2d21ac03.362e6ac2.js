(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21ac03"],{bd9d:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[t("b-modal",{attrs:{id:"modal-1",title:"Información","ok-only":"","ok-title":"Aceptar","no-close-on-esc":"","no-close-on-backdrop":"","header-bg-variant":"dark","header-text-variant":"light"}},[t("p",{staticStyle:{"font-size":"1rem"}},[e._v(" Señor usuario tenga en cuenta que si uno de sus exámenes es glicemia pre y post o curva de glicemia, debe agendar su cita solo en horario de 6:00 am - 7:00 am. ")]),t("p",{directives:[{name:"show",rawName:"v-show",value:"Barrancabermeja"!=e.placeSelected,expression:"placeSelected != 'Barrancabermeja'"}],staticStyle:{"font-size":"1rem"}},[e._v(" Para la programación de Espermograma por favor seleccionar la Sede Principal Calle 45 # 29 - 55. ")]),t("p",{staticStyle:{"font-size":"1rem"}},[e._v(" Le recordamos que deberá asistir a su toma de muestra máximo 10 minutos antes de la hora asignada. ")])]),t("b-container",[t("b-row",[t("b-col",[t("h5",{staticStyle:{"font-size":"1rem"}},[e._v(" "+e._s(e.nomUser)+", seleccione el horario que desea agendar para la sede "),t("b",[e._v(e._s(e.placeAdress))]),e._v(": ")]),t("h5",{staticStyle:{"font-size":"1rem",color:"red"}},[t("b",[e._v("Le recordamos que deberá asistir a su toma de muestra máximo 10 minutos antes de la hora asignada y el tiempo de atención estimado es de 30 minutos")])])])],1),t("b-row",{},[t("b-col",{staticClass:"text-center"},[e.isBussy?t("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin","font-scale":"4"}}):e._e(),e.isBussy?e._e():t("b-table",{staticStyle:{"font-size":"0.8rem"},attrs:{hover:"",bordered:"",items:e.schedules,"per-page":e.perPage,"current-page":e.currentPage,"tbody-tr-class":e.rowClass,fields:e.fields,"table-variant":"primary","head-variant":"dark",small:""},scopedSlots:e._u([{key:"cell(schedule)",fn:function(a){return[t("b-container",[t("b-row",[t("b-col",{staticClass:"pt-2",staticStyle:{"font-size":"1.2rem"}},[e._v(" "+e._s(a.value)+" ")])],1)],1)]}},{key:"cell(state)",fn:function(a){return[a.value>0?t("b-button",{attrs:{type:"button",variant:"success",block:"",id:a.item.schedule},on:{click:function(t){return e.goStepConfirmReserve(a.item)}}},[e._v(" Agendar ")]):t("p",{staticClass:"pt-1"},[t("b",[e._v("Ocupado")])])]}}],null,!1,66875466)}),e.rows>e.perPage?t("b-pagination",{attrs:{"total-rows":e.rows,"per-page":e.perPage,"aria-controls":"my-table","first-text":"<<","prev-text":"<","next-text":">","last-text":">>",pills:"",align:"center",small:""},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}):e._e()],1)],1),t("b-row",[t("b-col",{staticClass:"text-center"},[t("b-button",{staticStyle:{"font-size":"0.8rem"},attrs:{pressed:!0,type:"button",variant:"primary"},on:{click:e.goStepDate}},[t("b-icon",{staticClass:"mr-2",attrs:{icon:"calendar-date","aria-hidden":"true"}}),e._v(" Cambiar Fecha")],1)],1)],1)],1)],1)},r=[],i=(a("14d9"),a("2f62")),o=a("c1df"),n=a.n(o),l={name:"StepSchedule",components:{},data(){return{perPage:8,currentPage:1,fields:[{key:"schedule",label:"Horario"},{key:"state",label:"Estado"}],isBussy:!1}},computed:{...Object(i["c"])("users",["userData"]),...Object(i["c"])("reserves",["schedules","placeSelected","dateSelected"]),...Object(i["c"])("places",["places"]),rows(){return this.schedules.length},nomUser(){return this.userData.name+" "+this.userData.lastname},placeAdress(){return this.placeSelected+" ("+this.places.filter(e=>e.name==this.placeSelected)[0].adress+")"}},async mounted(){this.$bvModal.show("modal-1"),""==this.userData.document&&this.$router.replace("/"),this.isBussy=!0,await this.getAvailabilityReserves(this.dateSelected),this.isBussy=!1},methods:{...Object(i["b"])("reserves",["setReserveSchedule","getAvailabilityReserves","getAvailabilityReservesPrincipal"]),goStepConfirmReserve(e){this.setReserveSchedule(e.schedule),this.$router.push("StepConfirmReserve")},goStepDate(){this.$router.go(-1)},rowClass(e,t){if(n.a.locale("es"),!e||"row"!==t)return;let a=this.dateSelected+" "+e.schedule.substring(0,5),s=n()(n()(a)).fromNow(),r=(s.indexOf("minutos"),s.indexOf("hace"));n()(n()(a)).fromNow(!0).substring(0,2);return r>=0?e.state<=0||!e.state?"bg-danger text-white d-none":"d-none":e.state<=0||!e.state?"bg-danger text-white":void 0}}},c=l,d=a("2877"),u=Object(d["a"])(c,s,r,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d21ac03.362e6ac2.js.map